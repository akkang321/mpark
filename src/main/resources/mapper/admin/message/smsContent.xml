<?xml version="1.0" encoding="UTF-8"?> 
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://www.mybatis.org/dtd/mybatis-3-mapper.dtd"> 

<mapper namespace="com.zenith.admin.message.dao.AdminSmsContentDao"> 


<select id="adminSmsContentList" parameterType="hashmap" resultType="hashmap"> 
<include refid="common.stratPage" /> 
	SELECT		C_TITLE				,C_ID			,CREATE_ID 
				,DATE_FORMAT(CREATE_DATE, '%Y-%m-%d') AS CREATE_DATE		,UPDATE_ID		,DATE_FORMAT(UPDATE_DATE, '%Y-%m-%d') AS UPDATE_DATE 
	FROM 		SMS_CONTENT 
	<if test="sCTitle != null and sCTitle != ''"> 
		WHERE	C_TITLE LIKE CONCAT('%' ,#{ sCTitle }, '%') 
	</if>
<include refid="common.endPage" /> 
</select> 


<select id="smsContentCnt" resultType="int"> 
	SELECT		COUNT(1) 
	FROM 		SMS_CONTENT 
	<if test="sCTitle != null and sCTitle != ''"> 
		WHERE	C_TITLE LIKE CONCAT('%' ,#{ sCTitle }, '%') 
	</if> 
</select> 


<select id="smsContentInfo" parameterType="hashmap" resultType="hashmap"> 
	SELECT		C_TITLE				,C_ID			,CREATE_ID		
				,CREATE_DATE		,UPDATE_ID		,UPDATE_DATE		,C_CONTENT
	FROM 		SMS_CONTENT 
	WHERE		C_ID = #{ cId } 
</select> 


<insert id="smsContentInsert" parameterType="hashmap"> 
	INSERT	INTO SMS_CONTENT
			(
				C_ID	,C_TITLE		,C_CONTENT		,CREATE_ID	,CREATE_DATE) 
	VALUES	(
				#{cId}	,#{cTitle}	,#{cContent}	,#{uId}		,NOW()
			)
</insert> 


<update id="smsContentUpdate" parameterType="hashmap"> 
	UPDATE 	SMS_CONTENT 
	SET 	C_TITLE=#{cTitle}	,C_CONTENT=#{cContent}	
			,UPDATE_ID=#{uId}	,UPDATE_DATE=NOW() 
	WHERE 	C_ID = #{cId} 
</update> 


<delete id="smsDelete" parameterType="hashmap"> 
	DELETE 	FROM SMS_CONTENT 
	WHERE 	C_ID=#{cId}
</delete> 


</mapper>


